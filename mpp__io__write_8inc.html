<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: mpp/include/mpp_io_write.inc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2022.02.0</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mpp__io__write_8inc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">mpp_io_write.inc File Reference<div class="ingroups"><a class="el" href="group__mpp.html">MPP</a> &raquo; <a class="el" href="group__mpp__io__mod.html">mpp_io_mod</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This series of routines is used to describe the contents of the file being written on &lt;unit&gt;.  
<a href="#details">More...</a></p>

<p><a href="mpp__io__write_8inc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aca3aa5b71239442e28bb289e0651eae0"><td class="memItemLeft" align="right" valign="top"><a id="aca3aa5b71239442e28bb289e0651eae0"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpp__io__write_8inc.html#aca3aa5b71239442e28bb289e0651eae0">mpp_write_meta_global</a> (unit, name, rval, ival, cval, pack)</td></tr>
<tr class="memdesc:aca3aa5b71239442e28bb289e0651eae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a global metadata attribute to unit &lt;unit&gt; attribute &lt;name&gt; can be an real, integer or character one and only one of rval, ival, and cval should be present the first found will be used for a non-netCDF file, it is encoded into a string "GLOBAL &lt;name&gt; &lt;val&gt;". <br /></td></tr>
<tr class="separator:aca3aa5b71239442e28bb289e0651eae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d334c419e32c2a8fcb775d8e44d8b49"><td class="memItemLeft" align="right" valign="top"><a id="a1d334c419e32c2a8fcb775d8e44d8b49"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_global_scalar_r</b> (unit, name, rval, pack)</td></tr>
<tr class="separator:a1d334c419e32c2a8fcb775d8e44d8b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96603dc2ee9cf6ec01660d924bbd61ff"><td class="memItemLeft" align="right" valign="top"><a id="a96603dc2ee9cf6ec01660d924bbd61ff"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_global_scalar_i</b> (unit, name, ival, pack)</td></tr>
<tr class="separator:a96603dc2ee9cf6ec01660d924bbd61ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbbb3ed9a794031806451d2129a37eb"><td class="memItemLeft" align="right" valign="top"><a id="a5bbbb3ed9a794031806451d2129a37eb"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_var</b> (unit, id, name, rval, ival, cval, pack)</td></tr>
<tr class="separator:a5bbbb3ed9a794031806451d2129a37eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966adf7d42e1cd08e5e7b99884fd37aa"><td class="memItemLeft" align="right" valign="top"><a id="a966adf7d42e1cd08e5e7b99884fd37aa"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_scalar_r</b> (unit, id, name, rval, pack)</td></tr>
<tr class="separator:a966adf7d42e1cd08e5e7b99884fd37aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e84bdd22e08571c06eea862d761ffe6"><td class="memItemLeft" align="right" valign="top"><a id="a6e84bdd22e08571c06eea862d761ffe6"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_scalar_i</b> (unit, id, name, ival, pack)</td></tr>
<tr class="separator:a6e84bdd22e08571c06eea862d761ffe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6ce5ce09b442f38a8eeac81a819011"><td class="memItemLeft" align="right" valign="top"><a id="a7d6ce5ce09b442f38a8eeac81a819011"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_axis_data</b> (unit, axes)</td></tr>
<tr class="separator:a7d6ce5ce09b442f38a8eeac81a819011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7512da2aef849f88a2d78b4dc78986f0"><td class="memItemLeft" align="right" valign="top"><a id="a7512da2aef849f88a2d78b4dc78986f0"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_def_dim_nodata</b> (unit, name, size)</td></tr>
<tr class="separator:a7512da2aef849f88a2d78b4dc78986f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2e1699735287324b6f06b5893dc016"><td class="memItemLeft" align="right" valign="top"><a id="acb2e1699735287324b6f06b5893dc016"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_def_dim_int</b> (unit, name, dsize, longname, data)</td></tr>
<tr class="separator:acb2e1699735287324b6f06b5893dc016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5159aaac8440a8ed01f1beaf03fbc4"><td class="memItemLeft" align="right" valign="top"><a id="a2f5159aaac8440a8ed01f1beaf03fbc4"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_def_dim_real</b> (unit, name, dsize, longname, data)</td></tr>
<tr class="separator:a2f5159aaac8440a8ed01f1beaf03fbc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a05d4771717a860f4f9b0f41f3fc5da"><td class="memItemLeft" align="right" valign="top"><a id="a9a05d4771717a860f4f9b0f41f3fc5da"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_axis_r1d</b> (unit, axis, name, units, longname, cartesian, sense, domain, data, min, calendar)</td></tr>
<tr class="separator:a9a05d4771717a860f4f9b0f41f3fc5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2614875d5420ba38131aca02d1aa9bb"><td class="memItemLeft" align="right" valign="top"><a id="ad2614875d5420ba38131aca02d1aa9bb"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_axis_i1d</b> (unit, axis, name, units, longname, data, min, compressed)</td></tr>
<tr class="separator:ad2614875d5420ba38131aca02d1aa9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ef24ce42dc71d2ed47dc6008b4cc36"><td class="memItemLeft" align="right" valign="top"><a id="a01ef24ce42dc71d2ed47dc6008b4cc36"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_axis_unlimited</b> (unit, axis, name, data, unlimited, units, longname)</td></tr>
<tr class="separator:a01ef24ce42dc71d2ed47dc6008b4cc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51646e372d786179ffeea82b47d5a37"><td class="memItemLeft" align="right" valign="top"><a id="ad51646e372d786179ffeea82b47d5a37"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_meta_field</b> (unit, field, axes, name, units, longname, min, max, missing, fill, scale, add, pack, time_method, standard_name, checksum)</td></tr>
<tr class="separator:ad51646e372d786179ffeea82b47d5a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ba34ab36ab3b29972b2db51b4e8941"><td class="memItemLeft" align="right" valign="top"><a id="a95ba34ab36ab3b29972b2db51b4e8941"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>write_attribute</b> (unit, name, rval, ival, cval, pack)</td></tr>
<tr class="separator:a95ba34ab36ab3b29972b2db51b4e8941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4abcb1fa09a2ef9ee73ac74a4bf6b94e"><td class="memItemLeft" align="right" valign="top"><a id="a4abcb1fa09a2ef9ee73ac74a4bf6b94e"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>write_attribute_netcdf</b> (unit, id, name, rval, ival, cval, pack)</td></tr>
<tr class="separator:a4abcb1fa09a2ef9ee73ac74a4bf6b94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4e678cbdad73f6cb2e2ef2fabc8aaa"><td class="memItemLeft" align="right" valign="top"><a id="aad4e678cbdad73f6cb2e2ef2fabc8aaa"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_write_axis</b> (unit, axis)</td></tr>
<tr class="separator:aad4e678cbdad73f6cb2e2ef2fabc8aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491818874b614dba682ad93fb7e757d1"><td class="memItemLeft" align="right" valign="top"><a id="a491818874b614dba682ad93fb7e757d1"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_copy_meta_global</b> (unit, gatt)</td></tr>
<tr class="separator:a491818874b614dba682ad93fb7e757d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad714e80376c3df82256337afa363cce4"><td class="memItemLeft" align="right" valign="top"><a id="ad714e80376c3df82256337afa363cce4"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_copy_meta_axis</b> (unit, axis, domain)</td></tr>
<tr class="separator:ad714e80376c3df82256337afa363cce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc5c437d16ecf03e3f64cfbec9c3209"><td class="memItemLeft" align="right" valign="top"><a id="a5dc5c437d16ecf03e3f64cfbec9c3209"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_copy_meta_field</b> (unit, field, axes)</td></tr>
<tr class="separator:a5dc5c437d16ecf03e3f64cfbec9c3209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fe885c4b8b10644d8c4b72e2071757"><td class="memItemLeft" align="right" valign="top"><a id="ac5fe885c4b8b10644d8c4b72e2071757"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_modify_axis_meta</b> (axis, name, units, longname, cartesian, data)</td></tr>
<tr class="separator:ac5fe885c4b8b10644d8c4b72e2071757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b35dcc4d1207958d4fc690ae2b68398"><td class="memItemLeft" align="right" valign="top"><a id="a7b35dcc4d1207958d4fc690ae2b68398"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_modify_field_meta</b> (field, name, units, longname, min, max, missing, axes)</td></tr>
<tr class="separator:a7b35dcc4d1207958d4fc690ae2b68398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c019b9e111a608d620cc2d28326475"><td class="memItemLeft" align="right" valign="top"><a id="ac5c019b9e111a608d620cc2d28326475"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpp__io__write_8inc.html#ac5c019b9e111a608d620cc2d28326475">fillin_fieldtype</a> (field, axes, name, units, longname, min, max, missing, fill, scale, add, pack, time_method, standard_name, checksum)</td></tr>
<tr class="memdesc:ac5c019b9e111a608d620cc2d28326475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills in a fieldtype variable, and is used with the diag_manager when using fms2_io. <br /></td></tr>
<tr class="separator:ac5c019b9e111a608d620cc2d28326475"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This series of routines is used to describe the contents of the file being written on &lt;unit&gt;. </p>
<p>Each file can contain any number of fields, which can be functions of 0-3 spatial axes and 0-1 time axes. Axis descriptors are stored in the &lt;axistype&gt; structure and field descriptors in the &lt;fieldtype&gt; structure.</p>
<p>The metadata contained in the type is always written for each axis and field. Any other metadata one wishes to attach to an axis or field can subsequently be passed to mpp_write_meta using the ID, as shown below.</p>
<p>mpp_write_meta can take several forms:</p>
<p>mpp_write_meta( unit, name, rval=rval, pack=pack ) mpp_write_meta( unit, name, ival=ival ) mpp_write_meta( unit, name, cval=cval ) integer, intent(in) :: unit character(len=*), intent(in) :: name real, intent(in), optional :: rval(:) integer, intent(in), optional :: ival(:) character(len=*), intent(in), optional :: cval</p>
<p>This form defines global metadata associated with the file as a whole. The attribute is named &lt;name&gt; and can take on a real, integer or character value. &lt;rval&gt; and &lt;ival&gt; can be scalar or 1D arrays.</p>
<p>mpp_write_meta( unit, id, name, rval=rval, pack=pack ) mpp_write_meta( unit, id, name, ival=ival ) mpp_write_meta( unit, id, name, cval=cval ) integer, intent(in) :: unit, id character(len=*), intent(in) :: name real, intent(in), optional :: rval(:) integer, intent(in), optional :: ival(:) character(len=*), intent(in), optional :: cval</p>
<p>This form defines metadata associated with a previously defined axis or field, identified to mpp_write_meta by its unique ID &lt;id&gt;. The attribute is named &lt;name&gt; and can take on a real, integer or character value. &lt;rval&gt; and &lt;ival&gt; can be scalar or 1D arrays. This need not be called for attributes already contained in the type.</p>
<p>PACK can take values 1,2,4,8. This only has meaning when writing floating point numbers. The value of PACK defines the number of words written into 8 bytes. For pack=4 and pack=8, an integer value is written: rval is assumed to have been scaled to the appropriate dynamic range. PACK currently only works for netCDF files, and is ignored otherwise.</p>
<p>subroutine mpp_write_meta_axis( unit, axis, name, units, longname, &amp; cartesian, sense, domain, data ) integer, intent(in) :: unit type(axistype), intent(inout) :: axis character(len=*), intent(in) :: name, units, longname character(len=*), intent(in), optional :: cartesian integer, intent(in), optional :: sense type(domain1D), intent(in), optional :: domain real, intent(in), optional :: data(:)</p>
<p>This form defines a time or space axis. Metadata corresponding to the type above are written to the file on &lt;unit&gt;. A unique ID for subsequent references to this axis is returned in axisid. If the &lt;domain&gt; element is present, this is recognized as a distributed data axis and domain decomposition information is also written if required (the domain decomposition info is required for multi-fileset multi-threaded I/O). If the &lt;datLINK&gt; element is allocated, it is considered to be a space axis, otherwise it is a time axis with an unlimited dimension. Only one time axis is allowed per file. </p><div class="fragment"><div class="line"><span class="keyword">subroutine </span>mpp_write_meta_field( unit, field, axes, name, units, longname</div>
<div class="line">                                 standard_name, min, max, missing, fill, scale, add, pack)</div>
<div class="line">   <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: unit</div>
<div class="line">   <span class="keywordtype">type</span>(fieldtype), <span class="keywordtype">intent(out)</span> :: field</div>
<div class="line">   <span class="keywordtype">type</span>(axistype), <span class="keywordtype">intent(in)</span> :: axes(:)</div>
<div class="line">   <span class="keywordtype">character(len=*)</span>, <span class="keywordtype">intent(in)</span> :: name, units, longname, standard_name</div>
<div class="line"><span class="keywordtype">   real</span>, <span class="keywordtype">intent(in)</span>, <span class="keywordtype">optional</span> :: min, max, missing, fill, scale, add</div>
<div class="line">   <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span>, <span class="keywordtype">optional</span> :: pack</div>
</div><!-- fragment --><p> This form defines a field. Metadata corresponding to the type above are written to the file on &lt;unit&gt;. A unique ID for subsequent references to this field is returned in fieldid. At least one axis must be associated, 0D variables are not considered. mpp_write_meta must previously have been called on all axes associated with this field.</p>
<p>The mpp_write_meta package also includes subroutines write_attribute and write_attribute_netcdf, that are private to this module. </p>

<p class="definition">Definition in file <a class="el" href="mpp__io__write_8inc_source.html">mpp_io_write.inc</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_72b96e86e48e5dd402c7a282ec4fcc3a.html">mpp</a></li><li class="navelem"><a class="el" href="dir_26bb404c5de62e9dc2e5e3445360ffe7.html">include</a></li><li class="navelem"><a class="el" href="mpp__io__write_8inc.html">mpp_io_write.inc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
