<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: Documentation Style and Building Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2022.04.00</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_doxygenGuide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Documentation Style and Building Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Best practices for documenting FMS code with Doxygen, as well as instructions for generating the site.</p>
<h2>Basics</h2>
<p>For .F90 files:</p><ul>
<li><code>!&gt;</code> Starts or continues a multi-line doxygen comment</li>
<li><code>!!</code> Continues a comment</li>
<li><code>!&lt;</code> Starts a same-line comment (used for documenting variable/parameter declarations)</li>
<li><code>@commandname</code> to use a given doxygen command</li>
</ul>
<p>For .c files, javadoc-style comments are used (<code>///</code> or multi-line with <code>/**</code> and <code>*/</code>), and the command specifier is instead <code>\commandname</code>.</p>
<p>Certain doxygen commands must be terminated with an empty comment line, mainly <code>@brief</code> and <code>@author</code> , otherwise will include any additional documentation below it.</p>
<p>The following previously used commands are invalid:</p><ul>
<li><code>@email</code>, email can be included in <code>@author</code> line</li>
<li><code>@description</code>, <code>@details</code> can be used, but is also implied by <code>!&gt;</code> if a brief description is already given</li>
<li><code>@example</code>, not actually invalid, but should not be used in subroutine/function descriptions as it is for presenting examples of source code separately. Some examples of what can be used for programming examples in descriptions are below.</li>
</ul>
<p>Some html commands, such as <code>&lt;TT&gt;</code> and <code>&lt;br&gt;</code> are allowed. Full list can be found <a href="https://www.doxygen.nl/manual/htmlcmds.html"><b>here</b></a>. Coding examples can be formatted by either tabbing, or within the <code>@code</code> commands(see full subroutine documentation below for examples of both). Links to other pages within the documentation can be created with <code>@ref name</code>.</p>
<p>### Documenting Subroutines and Functions</p>
<p>The first <code>!&gt;</code> comment above a routine implicitly starts the brief description, and the second <code>!&gt;</code> will start the full description (as long as the brief description is terminated).</p>
<p>Simple subroutine/function documentation:</p>
<div class="fragment"><div class="line"><span class="comment">!&gt; description</span></div>
<div class="line"><span class="comment">!! continued description</span></div>
<div class="line"><span class="keyword">function </span>foo(bar)</div>
<div class="line">  <span class="keywordtype">integer</span>, <span class="keywordtype">intent(inout)</span> :: bar<span class="comment"> !&lt; argument description</span></div>
<div class="line">  ...</div>
</div><!-- fragment --><p>Full subroutine/function documentation:</p>
<div class="fragment"><div class="line"><span class="comment">!&gt; @brief short description</span></div>
<div class="line"><span class="comment">!! continued short description</span></div>
<div class="line"><span class="comment">!!</span></div>
<div class="line"><span class="comment">!&gt; Long description</span></div>
<div class="line"><span class="comment">!! continued long description</span></div>
<div class="line"><span class="comment">!! &lt;br&gt;Example 1:</span></div>
<div class="line"><span class="comment">!!</span></div>
<div class="line"><span class="comment">!!      foo()</span></div>
<div class="line"><span class="comment">!!</span></div>
<div class="line"><span class="comment">!! Example 2:</span></div>
<div class="line"><span class="comment">!! @code{.F90}</span></div>
<div class="line"><span class="comment">!! foo()</span></div>
<div class="line"><span class="comment">!! endcode (`@` ommitted to not close this example)</span></div>
<div class="line"><span class="keyword">subroutine </span>foo()</div>
<div class="line">  <span class="keywordtype">integer</span> :: bar<span class="comment"> !&lt; variable description</span></div>
<div class="line">  ...</div>
</div><!-- fragment --><h2>Module Grouping</h2>
<p>To get the modules parsed correctly, each module page is created through a grouping defined at the top of the file. Each FMS module is then also in a group corresponding to its subdirectory, with these groups defined in <code><a class="el" href="grouping_8h_source.html">docs/grouping.h</a></code>. The groups can also contain any other relevant files, such as additional documentation files, header, or include files. Files or additional documentation can be added to either directory or module groups by adding <code>@ingroup group_name</code> to a specific objects documentation block, or to enclose any section of code with the following:</p>
<div class="fragment"><div class="line"><span class="comment">!&gt; @addtogroup foo_mod</span></div>
<div class="line"><span class="comment">!&gt; @{</span></div>
<div class="line">&lt; any documented code within here will be included in foo_mod &gt;<span class="comment"></span></div>
<div class="line"><span class="comment">!&gt; @}</span></div>
</div><!-- fragment --><h2>Documenting Interfaces and Type Definitions</h2>
<p>Interfaces and type definitions can be documentated the in a similar way as subroutines/functions. In the documentation they will both be listed data types and will show any included subroutines or variables with links if available.</p>
<p>For interfaces and type definitions, duplicates can appear for subroutines/functions and variables contained in interfaces and typedefs if they are included in the module group as well. This can be avoided by ending the module group before the interface is defined with <code>!&gt; @}</code> and adding <code>@ingroup module_name_mod</code> to the interface documentation blocks. This will add the interface/type to the module page without any redundant items. After any interface or type definitions are defined, <code>!&gt; @addtogroup mod_name_mod</code> and a following <code>!&gt; @{</code> must be added after or else the rest of the module will be excluded.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">!&gt; @}</span></div>
<div class="line"><span class="comment">! closes module group started at beginning of file</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">!&gt; @brief short description</span></div>
<div class="line"><span class="comment">!!</span></div>
<div class="line"><span class="comment">!&gt; Longer description</span></div>
<div class="line"><span class="comment">!! @param[inout] arg1 description</span></div>
<div class="line"><span class="comment">!! @returns retval description</span></div>
<div class="line"><span class="comment">!&gt; @ingroup foo_mod</span></div>
<div class="line"><span class="keyword">interface</span> foo</div>
<div class="line">  ...</div>
<div class="line"><span class="keyword">end interface </span>foo</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">!&gt; description</span></div>
<div class="line"><span class="comment">!&gt; @ingroup foo_mod</span></div>
<div class="line"><span class="keyword">type</span>, <span class="keyword">public</span> :: typename</div>
<div class="line">  <span class="keywordtype">integer</span> :: num<span class="comment"> !&lt; description</span></div>
<div class="line"><span class="keyword">end type </span>typename</div>
<div class="line"> </div>
<div class="line">&lt; any other interface/<span class="keyword">type</span> definitions and documentation &gt;</div>
<div class="line"> </div>
<div class="line"><span class="comment">! add rest of module</span><span class="comment"></span></div>
<div class="line"><span class="comment">!&gt; @addtogroup foo_mod</span></div>
<div class="line"><span class="comment">!&gt; @{</span></div>
<div class="line">...</div>
</div><!-- fragment --><h2>Generating the Doxygen Site</h2>
<p>The site can be generated from the source code either manually (must have doxygen installed), or through a github action.</p>
<p>To generate it manually from the repository: </p><div class="fragment"><div class="line">autoreconf -it</div>
<div class="line">./configure --enable-docs</div>
<div class="line">make -C docs</div>
</div><!-- fragment --><p>To have the site generated through a github action, you can go to the <em>Actions</em> tab on your forked FMS repository. From there you can click on <em>Select Workflow</em> and select the <em>Generate and deploy documentationon GH pages</em> action. This will show all previous runs, and will display a button to run the doxygen workflow on whichever branch is desired. After completion, the page will be available at: &lt;your github username&gt;.github.io/FMS</p>
<p>If not available, settings for the site can be found in the forked repositories <em>Settings</em> tab, under <em>Pages</em>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
