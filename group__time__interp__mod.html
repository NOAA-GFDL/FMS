<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: time_interp_mod</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2022.04.00</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__time__interp__mod.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">time_interp_mod<div class="ingroups"><a class="el" href="group__time__interp.html">Time Interpolator</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Computes a weight and dates/indices for linearly interpolating between two dates.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:interfacetime__interp__mod_1_1time__interp"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#interfacetime__interp__mod_1_1time__interp">time_interp</a></td></tr>
<tr class="memdesc:interfacetime__interp__mod_1_1time__interp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a weight and dates or indices for interpolating between two dates. The interface fraction_of_year is provided for backward compatibility with the previous version.<br  />
.  <a href="group__time__interp__mod.html#interfacetime__interp__mod_1_1time__interp">More...</a><br /></td></tr>
<tr class="separator:interfacetime__interp__mod_1_1time__interp"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ga2ff024fdfe3ac7dfd4fdb56fa741c86e"><td class="memItemLeft" align="right" valign="top"><a id="ga2ff024fdfe3ac7dfd4fdb56fa741c86e"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ga2ff024fdfe3ac7dfd4fdb56fa741c86e">bisect</a> (Timelist, Time, index1, index2)</td></tr>
<tr class="memdesc:ga2ff024fdfe3ac7dfd4fdb56fa741c86e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an array of times in ascending order and a specific time returns values of index1 and index2 such that the Timelist(index1)&lt;=Time and Time&lt;=Timelist(index2), and index2=index1+1 index1=0, index2=1 or index=n, index2=n+1 are returned to indicate that the time is out of range. <br /></td></tr>
<tr class="separator:ga2ff024fdfe3ac7dfd4fdb56fa741c86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98cc42769fca80f85d99735810bd66b7"><td class="memItemLeft" align="right" valign="top"><a id="ga98cc42769fca80f85d99735810bd66b7"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>error_handler</b> (string)</td></tr>
<tr class="separator:ga98cc42769fca80f85d99735810bd66b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdace5b151bad1b788e4c7fe22afd90a"><td class="memItemLeft" align="right" valign="top">real function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#gacdace5b151bad1b788e4c7fe22afd90a">fraction_of_year</a> (Time)</td></tr>
<tr class="memdesc:gacdace5b151bad1b788e4c7fe22afd90a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to return the fractional time into the current year.  <a href="group__time__interp__mod.html#gacdace5b151bad1b788e4c7fe22afd90a">More...</a><br /></td></tr>
<tr class="separator:gacdace5b151bad1b788e4c7fe22afd90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7751c02ef5141425d4edaf80bc97617"><td class="memItemLeft" align="right" valign="top"><a id="gad7751c02ef5141425d4edaf80bc97617"></a>
type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>) function&#160;</td><td class="memItemRight" valign="bottom"><b>month_midpt</b> (year, month)</td></tr>
<tr class="separator:gad7751c02ef5141425d4edaf80bc97617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7271a32e6623681e151fa81c3883e0b8"><td class="memItemLeft" align="right" valign="top"><a id="ga7271a32e6623681e151fa81c3883e0b8"></a>
type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>) function&#160;</td><td class="memItemRight" valign="bottom"><b>set_modtime</b> (Tin, modtime)</td></tr>
<tr class="separator:ga7271a32e6623681e151fa81c3883e0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94ea82779909af26ec47270a6d4886dc"><td class="memItemLeft" align="right" valign="top"><a id="ga94ea82779909af26ec47270a6d4886dc"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ga94ea82779909af26ec47270a6d4886dc">time_interp_day</a> (Time, weight, year1, year2, month1, month2, day1, day2)</td></tr>
<tr class="memdesc:ga94ea82779909af26ec47270a6d4886dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive days. <br /></td></tr>
<tr class="separator:ga94ea82779909af26ec47270a6d4886dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e74738132884f3347005fb221739e29"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ga7e74738132884f3347005fb221739e29">time_interp_frac</a> (Time, weight)</td></tr>
<tr class="memdesc:ga7e74738132884f3347005fb221739e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the fractional time into the current year.  <a href="group__time__interp__mod.html#ga7e74738132884f3347005fb221739e29">More...</a><br /></td></tr>
<tr class="separator:ga7e74738132884f3347005fb221739e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67eff0406a4d43c9e964f1ea1265e0a6"><td class="memItemLeft" align="right" valign="top"><a id="ga67eff0406a4d43c9e964f1ea1265e0a6"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><b>time_interp_init</b> ()</td></tr>
<tr class="separator:ga67eff0406a4d43c9e964f1ea1265e0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dd457e49d547cd067da0da2005d5acf"><td class="memItemLeft" align="right" valign="top"><a id="ga2dd457e49d547cd067da0da2005d5acf"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>time_interp_list</b> (Time, Timelist, weight, index1, index2, modtime, err_msg)</td></tr>
<tr class="separator:ga2dd457e49d547cd067da0da2005d5acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga645accab15d2f4b0342869a5b241dd92"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ga645accab15d2f4b0342869a5b241dd92">time_interp_modulo</a> (Time, Time_beg, Time_end, Timelist, weight, index1, index2, correct_leap_year_inconsistency, err_msg)</td></tr>
<tr class="separator:ga645accab15d2f4b0342869a5b241dd92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c26ca0eb5bb13b3db95bf8871185339"><td class="memItemLeft" align="right" valign="top"><a id="ga8c26ca0eb5bb13b3db95bf8871185339"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ga8c26ca0eb5bb13b3db95bf8871185339">time_interp_month</a> (Time, weight, year1, year2, month1, month2)</td></tr>
<tr class="memdesc:ga8c26ca0eb5bb13b3db95bf8871185339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive months. <br /></td></tr>
<tr class="separator:ga8c26ca0eb5bb13b3db95bf8871185339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5456e40d0b34c05952a885a2c379c84"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#gad5456e40d0b34c05952a885a2c379c84">time_interp_year</a> (Time, weight, year1, year2)</td></tr>
<tr class="memdesc:gad5456e40d0b34c05952a885a2c379c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive years.  <a href="group__time__interp__mod.html#gad5456e40d0b34c05952a885a2c379c84">More...</a><br /></td></tr>
<tr class="separator:gad5456e40d0b34c05952a885a2c379c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed2dee1fd4f038dd7d993998d62342a0"><td class="memItemLeft" align="right" valign="top"><a id="gaed2dee1fd4f038dd7d993998d62342a0"></a>
type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>) function&#160;</td><td class="memItemRight" valign="bottom"><b>year_midpt</b> (year)</td></tr>
<tr class="separator:gaed2dee1fd4f038dd7d993998d62342a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gad1e4fc25a325f577d43a889a283ed8dc"><td class="memItemLeft" align="right" valign="top"><a id="gad1e4fc25a325f577d43a889a283ed8dc"></a>
integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><b>day</b> =3</td></tr>
<tr class="separator:gad1e4fc25a325f577d43a889a283ed8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga079368b9bbe03d284e5138a9ad19c217"><td class="memItemLeft" align="right" valign="top"><a id="ga079368b9bbe03d284e5138a9ad19c217"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>dymod</b></td></tr>
<tr class="separator:ga079368b9bbe03d284e5138a9ad19c217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3c67ddb1f09aadbd6f934f7c406b198"><td class="memItemLeft" align="right" valign="top"><a id="gaf3c67ddb1f09aadbd6f934f7c406b198"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>halfday</b> = secday/2</td></tr>
<tr class="separator:gaf3c67ddb1f09aadbd6f934f7c406b198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13a971f0b8869638850e04536a99285d"><td class="memItemLeft" align="right" valign="top"><a id="ga13a971f0b8869638850e04536a99285d"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>hourday</b> = 24</td></tr>
<tr class="separator:ga13a971f0b8869638850e04536a99285d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga041ba7ae01bd0f4bed472aa18be1b17b"><td class="memItemLeft" align="right" valign="top"><a id="ga041ba7ae01bd0f4bed472aa18be1b17b"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>minhour</b> = 60</td></tr>
<tr class="separator:ga041ba7ae01bd0f4bed472aa18be1b17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d4786c8a9b59cff3315b6c769334f8a"><td class="memItemLeft" align="right" valign="top"><a id="ga6d4786c8a9b59cff3315b6c769334f8a"></a>
logical&#160;</td><td class="memItemRight" valign="bottom"><b>mod_leapyear</b></td></tr>
<tr class="separator:ga6d4786c8a9b59cff3315b6c769334f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad369225c254bc7bda087334ca5d13096"><td class="memItemLeft" align="right" valign="top"><a id="gad369225c254bc7bda087334ca5d13096"></a>
logical&#160;</td><td class="memItemRight" valign="bottom"><b>module_is_initialized</b> =.FALSE.</td></tr>
<tr class="separator:gad369225c254bc7bda087334ca5d13096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fb58bc1bcbb6d8b5f886e3704390e65"><td class="memItemLeft" align="right" valign="top"><a id="ga4fb58bc1bcbb6d8b5f886e3704390e65"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>momod</b></td></tr>
<tr class="separator:ga4fb58bc1bcbb6d8b5f886e3704390e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae382a54ad9af7ec269b5dadb1b30c2a7"><td class="memItemLeft" align="right" valign="top"><a id="gae382a54ad9af7ec269b5dadb1b30c2a7"></a>
integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><b>month</b> =2</td></tr>
<tr class="separator:gae382a54ad9af7ec269b5dadb1b30c2a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42cd91e341db296e1d5b5db1b30aef46"><td class="memItemLeft" align="right" valign="top"><a id="ga42cd91e341db296e1d5b5db1b30aef46"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>monyear</b> = 12</td></tr>
<tr class="separator:ga42cd91e341db296e1d5b5db1b30aef46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeaef827bd05aacae74d6396567d0115"><td class="memItemLeft" align="right" valign="top"><a id="gaeeaef827bd05aacae74d6396567d0115"></a>
integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><b>none</b> =0</td></tr>
<tr class="separator:gaeeaef827bd05aacae74d6396567d0115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga273d1f5752fa805d4a675b68b7760022"><td class="memItemLeft" align="right" valign="top"><a id="ga273d1f5752fa805d4a675b68b7760022"></a>
logical&#160;</td><td class="memItemRight" valign="bottom"><b>perthlike_behavior</b> =.FALSE.</td></tr>
<tr class="separator:ga273d1f5752fa805d4a675b68b7760022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3fadbf6741bc7b16b3b99d7858e97cd"><td class="memItemLeft" align="right" valign="top"><a id="gae3fadbf6741bc7b16b3b99d7858e97cd"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>secday</b> = secmin*minhour*hourday</td></tr>
<tr class="separator:gae3fadbf6741bc7b16b3b99d7858e97cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga321171104fcfbe2324a05be2cc7ecf31"><td class="memItemLeft" align="right" valign="top"><a id="ga321171104fcfbe2324a05be2cc7ecf31"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>sechour</b> = secmin*minhour</td></tr>
<tr class="separator:ga321171104fcfbe2324a05be2cc7ecf31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33a0f3d34dcf4f321ed171908a4aca32"><td class="memItemLeft" align="right" valign="top"><a id="ga33a0f3d34dcf4f321ed171908a4aca32"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>secmin</b> = 60</td></tr>
<tr class="separator:ga33a0f3d34dcf4f321ed171908a4aca32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98561188a427c1fe4b3cc50ae29a8467"><td class="memItemLeft" align="right" valign="top"><a id="ga98561188a427c1fe4b3cc50ae29a8467"></a>
integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><b>year</b> =1</td></tr>
<tr class="separator:ga98561188a427c1fe4b3cc50ae29a8467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7312645f2a70401fa136a1625c60a56f"><td class="memItemLeft" align="right" valign="top"><a id="ga7312645f2a70401fa136a1625c60a56f"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>yrmod</b></td></tr>
<tr class="separator:ga7312645f2a70401fa136a1625c60a56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Computes a weight and dates/indices for linearly interpolating between two dates. </p>
<dl class="section author"><dt>Author</dt><dd>Bruce Wyman</dd></dl>
<p>A time type is converted into two consecutive dates plus a fraction representing the distance between the dates. This information can be used to interpolate between the dates. The dates may be expressed as years, months, or days or as indices in an array. </p>
<hr/><h2 class="groupheader">Data Type Documentation</h2>
<a name="interfacetime__interp__mod_1_1time__interp" id="interfacetime__interp__mod_1_1time__interp"></a>
<h2 class="memtitle"><span class="permalink"><a href="#interfacetime__interp__mod_1_1time__interp">&#9670;&nbsp;</a></span>time_interp_mod::time_interp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">interface time_interp_mod::time_interp</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Returns a weight and dates or indices for interpolating between two dates. The interface fraction_of_year is provided for backward compatibility with the previous version.<br  />
. </p>
<p>Returns weight by interpolating Time between Time1 and Time2. i.e. weight = (Time-Time1)/(Time2-Time1) Time1 and Time2 may be specified by any of several different ways, which is the reason for multiple interfaces.<br  />
</p><ul>
<li>If Time1 and Time2 are the begining and end of the year in which Time falls, use first interface.<br  />
</li>
<li>If Time1 and Time2 fall on year boundaries, use second interface.<br  />
</li>
<li>If Time1 and Time2 fall on month boundaries, use third.<br  />
</li>
<li>If Time1 and Time2 fall on day boundaries, use fourth.<br  />
</li>
<li>If Time1 and Time2 are consecutive elements of an assending list, use fifth. The fifth also returns the indices of Timelist between which Time falls.<br  />
</li>
<li>The sixth interface is for cyclical data. Time_beg and Time_end specify the begining and end of a repeating period. In this case:<br  />
 weight = (Time_adjusted - Time1) / (Time2 - Time1) <br  />
Where: <div class="fragment"><div class="line">time1 = timelist(index1)</div>
<div class="line">time2 = timelist(index2)</div>
<div class="line">time_adjusted = time - n*period</div>
<div class="line">period = time_end-time_beg</div>
</div><!-- fragment --> N is between (Time-Time_end)/Period and (Time-Time_beg)/Period That is, N is the integer that results in Time_adjusted that is between Time_beg and Time_end.</li>
</ul>
<p><br  />
Example usages: </p><div class="fragment"><div class="line"><span class="keyword">call </span>time_interp( time, weight )</div>
<div class="line"><span class="keyword">call </span>time_interp( time, weight, year1, year2 )</div>
<div class="line"><span class="keyword">call </span>time_interp( time, weight, year1, year2, month1, month2 )</div>
<div class="line"><span class="keyword">call </span>time_interp( time, weight, year1, year2, month1, month2, day1, day2 )</div>
<div class="line"><span class="keyword">call </span>time_interp( time, timelist, weight, index1, index2 [, modtime] )</div>
<div class="line"><span class="keyword">call </span>time_interp( time, time_beg, time_end, timelist, weight, index1, index2</div>
<div class="line">[,correct_leap_year_inconsistency])</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00228">228</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Private Member Functions</h3></td></tr>
<tr class="memitem:ac123553d0274a020ce561322c7223735"><td class="memItemLeft" align="right" valign="top"><a id="ac123553d0274a020ce561322c7223735"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#ac123553d0274a020ce561322c7223735">time_interp_day</a> (Time, weight, year1, year2, month1, month2, day1, day2)</td></tr>
<tr class="memdesc:ac123553d0274a020ce561322c7223735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive days. <br /></td></tr>
<tr class="separator:ac123553d0274a020ce561322c7223735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdc73ec0c534773f2a964e9093f5865"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#a6cdc73ec0c534773f2a964e9093f5865">time_interp_frac</a> (Time, weight)</td></tr>
<tr class="memdesc:a6cdc73ec0c534773f2a964e9093f5865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the fractional time into the current year.  <a href="group__time__interp__mod.html#a6cdc73ec0c534773f2a964e9093f5865">More...</a><br /></td></tr>
<tr class="separator:a6cdc73ec0c534773f2a964e9093f5865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa226120de8e44b3aeb85a15849804ad"><td class="memItemLeft" align="right" valign="top"><a id="aaa226120de8e44b3aeb85a15849804ad"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>time_interp_list</b> (Time, Timelist, weight, index1, index2, modtime, err_msg)</td></tr>
<tr class="separator:aaa226120de8e44b3aeb85a15849804ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d0144d2b4e73dca214a323496530ee1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#a3d0144d2b4e73dca214a323496530ee1">time_interp_modulo</a> (Time, Time_beg, Time_end, Timelist, weight, index1, index2, correct_leap_year_inconsistency, err_msg)</td></tr>
<tr class="separator:a3d0144d2b4e73dca214a323496530ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0105f54b0a6190fc83502d20fbe94151"><td class="memItemLeft" align="right" valign="top"><a id="a0105f54b0a6190fc83502d20fbe94151"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#a0105f54b0a6190fc83502d20fbe94151">time_interp_month</a> (Time, weight, year1, year2, month1, month2)</td></tr>
<tr class="memdesc:a0105f54b0a6190fc83502d20fbe94151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive months. <br /></td></tr>
<tr class="separator:a0105f54b0a6190fc83502d20fbe94151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052c6fa5f64063e3ed3471ef3117a8d8"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time__interp__mod.html#a052c6fa5f64063e3ed3471ef3117a8d8">time_interp_year</a> (Time, weight, year1, year2)</td></tr>
<tr class="memdesc:a052c6fa5f64063e3ed3471ef3117a8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates fractional time between mid points of consecutive years.  <a href="group__time__interp__mod.html#a052c6fa5f64063e3ed3471ef3117a8d8">More...</a><br /></td></tr>
<tr class="separator:a052c6fa5f64063e3ed3471ef3117a8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Member Function/Subroutine Documentation</h4>
<a id="a6cdc73ec0c534773f2a964e9093f5865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdc73ec0c534773f2a964e9093f5865">&#9670;&nbsp;</a></span>time_interp_frac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_frac </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the fractional time into the current year. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">weight</td><td>fractional time </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00286">286</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
<a id="a3d0144d2b4e73dca214a323496530ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d0144d2b4e73dca214a323496530ee1">&#9670;&nbsp;</a></span>time_interp_modulo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_modulo </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time_beg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>Timelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>index2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>correct_leap_year_inconsistency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">correct_leap_year_inconsistency</td><td>When true turns on a kluge for an inconsistency which may occur in a special case. When the modulo time period (i.e. Time_end - Time_beg) is a whole number of years and is not a multiple of 4, and the calendar in use has leap years, then it is likely that the interpolation will involve mapping a common year onto a leap year. In this case it is often desirable, but not absolutely necessary, to use data for Feb 28 of the leap year when it is mapped onto a common year. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00505">505</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
<a id="a052c6fa5f64063e3ed3471ef3117a8d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052c6fa5f64063e3ed3471ef3117a8d8">&#9670;&nbsp;</a></span>time_interp_year()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_year </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>year1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>year2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates fractional time between mid points of consecutive years. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">weight</td><td>fractional time between midpoints of year1 and year2 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00336">336</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="gacdace5b151bad1b788e4c7fe22afd90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdace5b151bad1b788e4c7fe22afd90a">&#9670;&nbsp;</a></span>fraction_of_year()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real function, public time_interp_mod::fraction_of_year </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function to return the fractional time into the current year. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Time</td><td>time to calculate fraction with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>real fraction of time passed in current year </dd></dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00318">318</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
<a id="ga7e74738132884f3347005fb221739e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e74738132884f3347005fb221739e29">&#9670;&nbsp;</a></span>time_interp_frac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_mod::time_interp_frac </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the fractional time into the current year. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">weight</td><td>fractional time </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00286">286</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
<a id="ga645accab15d2f4b0342869a5b241dd92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga645accab15d2f4b0342869a5b241dd92">&#9670;&nbsp;</a></span>time_interp_modulo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_mod::time_interp_modulo </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time_beg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>Timelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>index2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>correct_leap_year_inconsistency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">correct_leap_year_inconsistency</td><td>When true turns on a kluge for an inconsistency which may occur in a special case. When the modulo time period (i.e. Time_end - Time_beg) is a whole number of years and is not a multiple of 4, and the calendar in use has leap years, then it is likely that the interpolation will involve mapping a common year onto a leap year. In this case it is often desirable, but not absolutely necessary, to use data for Feb 28 of the leap year when it is mapped onto a common year. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00505">505</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
<a id="gad5456e40d0b34c05952a885a2c379c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5456e40d0b34c05952a885a2c379c84">&#9670;&nbsp;</a></span>time_interp_year()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine time_interp_mod::time_interp_year </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="group__time__manager__mod.html#structtime__manager__mod_1_1time__type">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>year1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>year2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates fractional time between mid points of consecutive years. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">weight</td><td>fractional time between midpoints of year1 and year2 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time__interp_8F90_source.html#l00336">336</a> of file <a class="el" href="time__interp_8F90_source.html">time_interp.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
